# MAMA Framework SetFit 情感分析案例研究

## 概述

本案例研究展示了MAMA框架核心语义模型 `all-mpnet-base-v2` 在自然语言处理任务中的通用性，通过SetFit（Sentence Transformer Fine-tuning）方法在SST-2数据集上进行少样本二元情感分类。

## 实验配置

| 配置项 | 值 |
|--------|-----|
| **方法** | SetFit 少样本学习 |
| **基础模型** | `sentence-transformers/all-mpnet-base-v2` |
| **数据集** | Stanford Sentiment Treebank (SST-2) |
| **训练样本** | 16个 (每类8个) |
| **验证样本** | 872个 |
| **任务类型** | 二元情感分类 (0: 负面, 1: 正面) |
| **执行方式** | 完全本地，无外部API调用 |
| **随机种子** | 42 (确保可重现性) |

## 核心结果

### 性能指标

- **总体准确率**: **72.94%** (636/872 正确预测)
- **训练时间**: 3.36秒
- **推理时间**: 2.33秒
- **训练效率**: 极高（仅需16个样本）

### 详细分类报告

| 类别 | 精确率 | 召回率 | F1分数 | 支持样本数 |
|------|--------|--------|--------|------------|
| **负面** | 0.6633 | 0.9112 | 0.7677 | 428 |
| **正面** | 0.8662 | 0.5541 | 0.6758 | 444 |
| **宏平均** | 0.7647 | 0.7326 | 0.7218 | 872 |
| **加权平均** | 0.7666 | 0.7294 | 0.7209 | 872 |

### 混淆矩阵

|          | 预测负面 | 预测正面 |
|----------|----------|----------|
| **真实负面** | 390 | 38 |
| **真实正面** | 198 | 246 |

## 技术亮点

### 1. MAMA框架集成
- 直接使用MAMA系统的核心语义模型
- 展示了框架组件的跨任务通用性
- 无需重新训练基础模型

### 2. 少样本学习效果
- 仅用16个训练样本达到72.94%准确率
- 证明了SetFit在数据稀缺场景下的有效性
- 训练时间极短（< 4秒）

### 3. 学术严谨性
- 固定随机种子确保可重现性
- 完整的实验配置记录
- 详细的性能评估和错误分析

## 实验文件

### 核心脚本
- `setfit_sentiment_case_study.py` - 主实验脚本
- `setfit_sentiment_case_study_results_20250705_201947.json` - 详细结果数据

### 结果数据
- 完整的872个预测结果
- 每个样本的预测详情
- 准确性分析和错误案例

## 运行指南

### 环境要求
```bash
pip install setfit datasets transformers torch scikit-learn
```

### 执行实验
```bash
python setfit_sentiment_case_study.py
```

### 期望输出
1. 数据集加载和预处理信息
2. 训练过程进度
3. 详细的评估结果
4. 预测样例分析
5. 学术格式的Markdown表格
6. 完整的JSON结果文件

## 论文附录格式

| Method | Model | Training Samples | Accuracy | Dataset |
|--------|--------|------------------|----------|---------|
| SetFit Few-Shot Learning | sentence-transformers/all-mpnet-base-v2 | 16 (8 per class) | 0.7294 (72.94%) | SST-2 validation |

**实验配置**:
- **框架**: MAMA 核心组件演示
- **方法**: SetFit (Sentence Transformer 微调)
- **基础模型**: sentence-transformers/all-mpnet-base-v2 (MAMA框架核心语义模型)
- **数据集**: Stanford Sentiment Treebank (SST-2)
- **训练**: 少样本学习，每类8个样本
- **评估**: 完整验证集 (872个样本)
- **任务**: 二元情感分类 (0: 负面, 1: 正面)
- **执行**: 完全本地，无外部API调用
- **可重现性**: 固定随机种子 (42)

## 结论

本案例研究成功证明了：

1. **MAMA框架的通用性**: 核心语义模型可有效应用于NLP分类任务
2. **SetFit方法的有效性**: 极少样本即可达到良好性能
3. **实际应用价值**: 快速、本地化的情感分析解决方案
4. **学术严谨性**: 完整的实验设计和结果记录

这为MAMA框架在多领域应用提供了有力支撑，展示了其超越航班推荐的技术潜力。 